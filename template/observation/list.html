{% extends 'base.html' %} {% block content %}
<h1 class="mt-3 text-center text-4xl font-bold">我所有的觀課/預約紀錄</h1>
<hr class="my-3" />
<div class="mx-auto mb-3 flex w-2/3 items-stretch">
  <svg
    aria-hidden="true"
    focusable="false"
    data-prefix="fa-solid"
    data-icon="magnifying-glass"
    class="input-icon mr-2 w-6 self-center"
    role="img"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 448 512"
  >
    <path
      fill="currentColor"
      d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"
    ></path>
  </svg>
  <div class="form-floating flex-grow outline-0">
    <input
      type="text"
      class="form-control m-0 block w-full rounded-full border-2 border-gray-300 bg-white bg-clip-padding text-base font-normal text-gray-700 outline-0 focus:border-blue-600"
      id="search"
      placeholder="搜尋課程"
      style="box-shadow: none !important"
      required
    />
    <label for="search" class="text-gray-700">搜尋課程</label>
  </div>
</div>
<h2 class="mt-3 text-center text-2xl font-bold">我所有預約的課程</h2>
<div class="accordion mt-3 shadow-lg">
  {% for res in reservations %}
  <div class="accordion-item border border-gray-200 bg-white">
    <h3 class="accordion-header mb-0" id="headingCourse{{ res.Course.ID }}">
      <button
        class="collapsed accordion-button relative flex w-full items-center rounded-none border-0 bg-white py-4 px-5 text-left text-base font-bold text-gray-800 transition focus:outline-none"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#collapseCourse{{ res.Course.ID }}"
        aria-expanded="false"
        aria-controls="collapseCourse{{ res.Course.ID }}"
      >
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="user-check"
          class="input-icon mr-2 w-6 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 640 512"
        >
          <path
            fill="currentColor"
            d="M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM625 177L497 305c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L591 143c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"
          ></path>
        </svg>
        {{ res.Course.DateCH }}-{{ res.Course.Name }}
      </button>
    </h3>
    <div
      id="collapseCourse{{ res.Course.ID }}"
      class="accordion-collapse collapse"
      aria-labelledby="headingCourse{{ res.Course.ID }}"
    >
      <div
        class="accordion-body grid grid-cols-1 gap-4 p-4 px-5 py-4 lg:grid-cols-3"
      >
        <a
          class="mx-auto flex items-stretch"
          href="/class/{{ res.Course.ID }}/design"
          rel="noreferrer noopener"
        >
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="file-lines"
            class="input-icon mr-2 h-4 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 384 512"
          >
            <path
              fill="currentColor"
              d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"
            ></path>
          </svg>
          <p class="flex-grow self-center">活動設計表</p>
        </a>
        <a
          class="mx-auto flex items-stretch"
          href="/class/{{ res.Course.ID }}/preparation"
          rel="noreferrer noopener"
        >
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="file-lines"
            class="input-icon mr-2 h-4 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 384 512"
          >
            <path
              fill="currentColor"
              d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"
            ></path>
          </svg>
          <p class="flex-grow self-center">備課紀錄表</p>
        </a>
        <!-- <a
          class="mx-auto flex items-stretch"
          href="/class/{{ res.Course.ID }}/observation/list"
          rel="noreferrer noopener"
        >
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="file-lines"
            class="input-icon mr-2 h-4 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 384 512"
          >
            <path
              fill="currentColor"
              d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"
            ></path>
          </svg>
          <p class="flex-grow self-center">觀課紀錄表</p>
        </a> -->
      </div>
    </div>
  </div>
  {% endfor %}
</div>
<h2 class="mt-3 text-center text-2xl font-bold">我所有的觀課紀錄</h2>
<div class="accordion mt-3 shadow-lg">
  {% for res in observations %}
  <div class="accordion-item border border-gray-200 bg-white">
    <h3 class="accordion-header mb-0" id="headingCourse{{ res.Course.ID }}">
      <button
        class="collapsed accordion-button relative flex w-full items-center rounded-none border-0 bg-white py-4 px-5 text-left text-base font-bold text-gray-800 transition focus:outline-none"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#collapseCourse{{ res.Course.ID }}"
        aria-expanded="false"
        aria-controls="collapseCourse{{ res.Course.ID }}"
      >
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="eye"
          class="input-icon mr-2 w-6 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 576 512"
        >
          <path
            fill="currentColor"
            d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"
          ></path>
        </svg>
        {{ res.Course.DateCH }}-{{ res.Course.Name }}
      </button>
    </h3>
    <div
      id="collapseCourse{{ res.Course.ID }}"
      class="accordion-collapse collapse"
      aria-labelledby="headingCourse{{ res.Course.ID }}"
    >
      <div
        class="accordion-body grid grid-cols-1 gap-4 p-4 px-5 py-4 lg:grid-cols-3"
      >
        <a
          class="mx-auto flex items-stretch"
          href="/class/{{ res.Course.ID }}/design"
          rel="noreferrer noopener"
        >
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="file-lines"
            class="input-icon mr-2 h-4 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 384 512"
          >
            <path
              fill="currentColor"
              d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"
            ></path>
          </svg>
          <p class="flex-grow self-center">活動設計表</p>
        </a>
        <a
          class="mx-auto flex items-stretch"
          href="/class/{{ res.Course.ID }}/preparation"
          rel="noreferrer noopener"
        >
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="file-lines"
            class="input-icon mr-2 h-4 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 384 512"
          >
            <path
              fill="currentColor"
              d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"
            ></path>
          </svg>
          <p class="flex-grow self-center">備課紀錄表</p>
        </a>
        <a
          class="mx-auto flex items-stretch"
          href="/class/{{ res.Course.ID }}/observation/list"
          rel="noreferrer noopener"
        >
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="file-lines"
            class="input-icon mr-2 h-4 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 384 512"
          >
            <path
              fill="currentColor"
              d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"
            ></path>
          </svg>
          <p class="flex-grow self-center">觀課紀錄表</p>
        </a>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %} {% block other_js %}
<script>
  let search = document.getElementById("search");
  search.onchange = function () {
    let courses = document.getElementsByClassName("accordion-item");
    for (let i = 0; i < courses.length; i++) {
      let course = courses[i];
      let courseName =
        course.getElementsByClassName("accordion-header")[0].innerText;
      if (courseName.includes(search.value)) {
        course.style.display = "block";
      } else {
        course.style.display = "none";
      }
    }
  };
</script>
{% endblock %}
