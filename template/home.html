{% extends 'base.html' %} {% block content %}
<h1 class="mt-3 text-center text-4xl font-bold">所有的公開授課</h1>
<hr class="my-3" />
<div class="mx-auto mb-3 flex w-2/3 items-stretch">
  <svg
    aria-hidden="true"
    focusable="false"
    data-prefix="fa-solid"
    data-icon="magnifying-glass"
    class="input-icon mr-2 w-6 self-center"
    role="img"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 448 512"
  >
    <path
      fill="currentColor"
      d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"
    ></path>
  </svg>
  <div class="form-floating flex-grow outline-0">
    <input
      type="text"
      class="form-control m-0 block w-full rounded-full border-2 border-gray-300 bg-white bg-clip-padding text-base font-normal text-gray-700 outline-0 focus:border-blue-600"
      id="search"
      placeholder="搜尋課程"
      style="box-shadow: none !important"
      required
    />
    <label for="search" class="text-gray-700">搜尋課程</label>
  </div>
</div>
<div class="accordion shadow-lg">
  {% for course in classes %}
  <div class="accordion-item border border-gray-200 bg-white">
    <h2 class="accordion-header mb-0" id="headingCourse{{ course.ClassID }}">
      <button
        class="accordion-button collapsed relative flex w-full items-center rounded-none border-0 bg-white py-4 px-5 text-left text-base font-bold text-gray-800 transition focus:outline-none"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#collapseCourse{{ course.ClassID }}"
        aria-expanded="false"
        aria-controls="collapseCourse{{ course.ClassID }}"
      >
        {{ course.Date}}-{{ course.Teacher }}老師-{{ course.ClassName }}
      </button>
    </h2>
    <div
      id="collapseCourse{{ course.ClassID }}"
      class="accordion-collapse collapse"
      aria-labelledby="headingCourse{{ course.ClassID }}"
    >
      <div
        class="accordion-body grid grid-cols-1 gap-4 p-4 px-5 py-4 lg:grid-cols-4"
      >
        <div class="mx-auto flex items-stretch">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="school"
            class="input-icon mr-2 h-4 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 640 512"
          >
            <path
              fill="currentColor"
              d="M337.8 5.4C327-1.8 313-1.8 302.2 5.4L166.3 96H48C21.5 96 0 117.5 0 144V464c0 26.5 21.5 48 48 48H592c26.5 0 48-21.5 48-48V144c0-26.5-21.5-48-48-48H473.7L337.8 5.4zM256 416c0-35.3 28.7-64 64-64s64 28.7 64 64v96H256V416zM96 192h32c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H96c-8.8 0-16-7.2-16-16V208c0-8.8 7.2-16 16-16zm400 16c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H512c-8.8 0-16-7.2-16-16V208zM96 320h32c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H96c-8.8 0-16-7.2-16-16V336c0-8.8 7.2-16 16-16zm400 16c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H512c-8.8 0-16-7.2-16-16V336zM232 176a88 88 0 1 1 176 0 88 88 0 1 1 -176 0zm88-48c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H336V144c0-8.8-7.2-16-16-16z"
            ></path>
          </svg>
          <p class="flex-grow self-center">授課教室：{{ course.Classroom }}</p>
        </div>
        <div class="mx-auto flex items-stretch">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="clock"
            class="input-icon mr-2 h-4 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
          >
            <path
              fill="currentColor"
              d="M256 512C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"
            ></path>
          </svg>
          <p class="flex-grow self-center">時間：{{ course.Duration }}</p>
        </div>
        <a
          class="mx-auto flex items-stretch"
          href="{{ course.Calendar }}"
          target="_blank"
          rel="noreferrer noopener"
        >
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="calendar-day"
            class="input-icon mr-2 h-4 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 448 512"
          >
            <path
              fill="currentColor"
              d="M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z"
            ></path>
          </svg>
          <p class="flex-grow self-center">新增至 google 行事曆</p>
        </a>
        <div class="mx-auto flex items-stretch">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="user-check"
            class="input-icon mr-2 w-6 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 640 512"
          >
            <path
              fill="currentColor"
              d="M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM625 177L497 305c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L591 143c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"
            ></path>
          </svg>
          <p class="flex-grow self-center">預約</p>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %} {% block other_js %}
<script>
  let search = document.getElementById("search");
  search.onchange = function () {
    let courses = document.getElementsByClassName("accordion-item");
    for (let i = 0; i < courses.length; i++) {
      let course = courses[i];
      let courseName =
        course.getElementsByClassName("accordion-header")[0].innerText;
      if (courseName.includes(search.value)) {
        course.style.display = "block";
      } else {
        course.style.display = "none";
      }
    }
  };
</script>
{% endblock %}
