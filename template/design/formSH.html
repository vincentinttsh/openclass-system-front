{% extends 'base.html' %} {% block content %}
<div class="justify-center border-4 pb-3">
  <h1 class="mt-3 text-center text-4xl font-bold">
    填寫課程教學活動設計表
  </h1>
  <hr class="mt-3" />
  <form method="post" role="form">
    <input type="hidden" name="csrf_token" value="{{ csrf_token }}" />
    <section class="grid grid-cols-1 gap-4 p-4 lg:grid-cols-2">
      <div class="flex items-stretch">
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="book"
          class="input-icon mr-2 w-6 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 448 512"
        >
          <path
            fill="currentColor"
            d="M96 0C43 0 0 43 0 96V416c0 53 43 96 96 96H384h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V384c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H384 96zm0 384H352v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"
          ></path>
        </svg>
        <div class="form-floating flex-grow">
          <input
            type="text"
            class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
            id="name"
            name="name"
            value="{{ form.Name }}"
            placeholder="單元名稱"
          />
          <label for="name" class="text-gray-700">單元名稱</label>
        </div>
      </div>
      <div class="flex items-stretch">
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="user"
          class="input-icon mr-2 w-6 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 448 512"
        >
          <path
            fill="currentColor"
            d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"
          ></path>
        </svg>
        <div class="form-floating flex-grow">
          <input
            type="text"
            class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
            id="teacher"
            value="{{ form.Course.User.Name }}"
            placeholder="授課老師"
            readonly
          />
          <label for="teacher" class="text-gray-700">授課老師</label>
        </div>
      </div>
      <div class="flex items-stretch">
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="diagram-project"
          class="input-icon mr-2 w-6 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 576 512"
        >
          <path
            fill="currentColor"
            d="M0 80C0 53.5 21.5 32 48 32h96c26.5 0 48 21.5 48 48V96H384V80c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H432c-26.5 0-48-21.5-48-48V160H192v16c0 1.7-.1 3.4-.3 5L272 288h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V336c0-1.7 .1-3.4 .3-5L144 224H48c-26.5 0-48-21.5-48-48V80z"
          ></path>
        </svg>
        <div class="form-floating flex-grow">
          <input
            type="text"
            class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
            id="material"
            name="material"
            value="{{ form.Material }}"
            placeholder="教材來源"
          />
          <label for="material" class="text-gray-700">教材來源</label>
        </div>
      </div>
      <div class="flex items-stretch">
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="book-open-reader"
          class="input-icon mr-2 w-6 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <path
            fill="currentColor"
            d="M352 96c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zM240 248V512l-48.4-24.2c-20.9-10.4-43.5-17-66.8-19.3l-96-9.6C12.5 457.2 0 443.5 0 427V224c0-17.7 14.3-32 32-32H62.3c63.6 0 125.6 19.6 177.7 56zm32 264V248c52.1-36.4 114.1-56 177.7-56H480c17.7 0 32 14.3 32 32V427c0 16.4-12.5 30.2-28.8 31.8l-96 9.6c-23.2 2.3-45.9 8.9-66.8 19.3L272 512z"
          ></path>
        </svg>
        <div class="form-floating flex-grow">
          <input
            type="text"
            class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
            id="class"
            name="class"
            value="{{ form.Class }}"
            placeholder="授課班級"
          />
          <label for="class" class="text-gray-700">授課班級</label>
        </div>
      </div>
    </section>
    <section class="grid grid-cols-1 gap-4 px-4 pb-4 lg:grid-cols-3">
      <div class="flex items-stretch">
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="calendar-day"
          class="input-icon mr-2 w-6 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 448 512"
        >
          <path
            fill="currentColor"
            d="M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z"
          ></path>
        </svg>
        <div
          class="datepicker form-floating relative flex-grow"
          data-mdb-toggle-button="false"
        >
          <input
            type="text"
            class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
            id="date"
            name="date"
            datepicker-format="yyyy/mm/dd"
            placeholder="教學日期"
            data-mdb-toggle="datepicker"
            value="{{ form.Date }}"
          />
          <label for="date" class="text-gray-700">教學日期</label>
        </div>
      </div>
      <div class="flex items-stretch">
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="clock"
          class="input-icon mr-2 w-6 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <path
            fill="currentColor"
            d="M256 512C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"
          ></path>
        </svg>
        <div
          class="form-floating timepicker relative flex-grow"
          data-mdb-with-icon="false"
          id="input-toggle-timepicker"
        >
          <input
            type="text"
            class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
            placeholder="教學開始時間"
            data-mdb-toggle="input-toggle-timepicker"
            id="startTime"
            name="startTime"
            value="{{ form.StartTime }}"
          />
          <label for="startTime" class="text-gray-700">教學開始時間</label>
        </div>
      </div>
      <div class="flex items-stretch">
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="clock-rotate-left"
          class="input-icon mr-2 w-6 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <path
            fill="currentColor"
            d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"
          ></path>
        </svg>
        <div
          class="form-floating timepicker relative flex-grow"
          data-mdb-with-icon="false"
          id="input-toggle-timepicker"
        >
          <input
            id="endTime"
            name="endTime"
            type="text"
            class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
            placeholder="教學結束時間"
            data-mdb-toggle="input-toggle-timepicker"
            value="{{ form.EndTime }}"
          />
          <label for="endTime" class="text-gray-700">教學結束時間</label>
        </div>
      </div>
    </section>
    <section class="grid grid-cols-1 gap-4 px-4 pb-4">
      <div class="flex items-stretch">
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="bullseye"
          class="input-icon mr-2 w-6 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <path
            fill="currentColor"
            d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192zm64 0c0 141.4-114.6 256-256 256S0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80zm0 64c-79.5 0-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144zm32-144c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"
          ></path>
        </svg>
        <div
          class="form-floating relative flex-grow"
          data-mdb-toggle-button="false"
        >
          <textarea
            type="text"
            class="form-control m-0 block w-full resize-none overflow-y-hidden rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
            id="objectives"
            name="objectives"
            placeholder="教學目標"
            autoHeight="true"
          >
{{ form.Objectives }}</textarea
          >
          <label for="objectives" class="text-gray-700">教學目標</label>
        </div>
      </div>
      <div class="flex items-stretch">
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="lines-leaning"
          class="input-icon mr-2 w-6 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 448 512"
        >
          <path
            fill="currentColor"
            d="M222.4 74.1c5.6-16.8-3.5-34.9-20.2-40.5s-34.9 3.5-40.5 20.2l-128 384c-5.6 16.8 3.5 34.9 20.2 40.5s34.9-3.5 40.5-20.2l128-384zm70.9-41.7c-17.4-2.9-33.9 8.9-36.8 26.3l-64 384c-2.9 17.4 8.9 33.9 26.3 36.8s33.9-8.9 36.8-26.3l64-384c2.9-17.4-8.9-33.9-26.3-36.8zM384 32c-17.7 0-32 14.3-32 32V448c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32z"
          ></path>
        </svg>
        <div
          class="form-floating relative flex-grow"
          data-mdb-toggle-button="false"
        >
          <textarea
            type="text"
            class="form-control m-0 block w-full resize-none overflow-y-hidden rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
            id="background"
            name="background"
            placeholder="學生學習背景分析"
            autoHeight="true"
          >
{{ form.Background }}</textarea
          >
          <label for="background" class="text-gray-700">學生學習背景分析</label>
        </div>
      </div>
      <div class="flex items-stretch">
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="chalkboard-user"
          class="input-icon mr-2 w-6 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 640 512"
        >
          <path
            fill="currentColor"
            d="M160 64c0-35.3 28.7-64 64-64H576c35.3 0 64 28.7 64 64V352c0 35.3-28.7 64-64 64H336.8c-11.8-25.5-29.9-47.5-52.4-64H384V320c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v32h64V64L224 64v49.1C205.2 102.2 183.3 96 160 96V64zm0 256c-53 0-96-43-96-96s43-96 96-96s96 43 96 96s-43 96-96 96zm-26.7 32h53.3C260.3 352 320 411.7 320 485.3c0 14.7-11.9 26.7-26.7 26.7H26.7C11.9 512 0 500.1 0 485.3C0 411.7 59.7 352 133.3 352z"
          ></path>
        </svg>
        <div
          class="form-floating relative flex-grow"
          data-mdb-toggle-button="false"
        >
          <textarea
            type="text"
            class="form-control m-0 block w-full resize-none overflow-y-hidden rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
            id="method"
            name="method"
            placeholder="教學方法"
            autoHeight="true"
          >
{{ form.Method }}</textarea
          >
          <label for="method" class="text-gray-700">教學方法</label>
        </div>
      </div>
      <div class="flex items-stretch">
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="book-bookmark"
          class="input-icon mr-2 w-6 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 448 512"
        >
          <path
            fill="currentColor"
            d="M0 96C0 43 43 0 96 0h96V190.7c0 13.4 15.5 20.9 26 12.5L272 160l54 43.2c10.5 8.4 26 .9 26-12.5V0h32 32c17.7 0 32 14.3 32 32V352c0 17.7-14.3 32-32 32v64c17.7 0 32 14.3 32 32s-14.3 32-32 32H384 96c-53 0-96-43-96-96V96zM64 416c0 17.7 14.3 32 32 32H352V384H96c-17.7 0-32 14.3-32 32z"
          ></path>
        </svg>
        <div
          class="form-floating relative flex-grow"
          data-mdb-toggle-button="false"
        >
          <textarea
            type="text"
            class="form-control m-0 block w-full resize-none overflow-y-hidden rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
            id="resource"
            name="resource"
            placeholder="教學資源"
            autoHeight="true"
          >
{{ form.Resource }}</textarea
          >
          <label for="resource" class="text-gray-700">教學資源</label>
        </div>
      </div>
      <div class="flex items-stretch">
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="copy"
          class="input-icon mr-2 w-6 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <path
            fill="currentColor"
            d="M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z"
          ></path>
        </svg>
        <div
          class="form-floating relative flex-grow"
          data-mdb-toggle-button="false"
        >
          <textarea
            type="text"
            class="form-control m-0 block w-full resize-none overflow-y-hidden rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
            id="reference"
            name="reference"
            placeholder="參考資料"
            autoHeight="true"
          >
{{ form.Reference }}</textarea
          >
          <label for="reference" class="text-gray-700">參考資料</label>
        </div>
      </div>
    </section>
    <section class="px-4 pb-4">
      <h2 class="mb-3 text-center text-3xl font-bold">詳細流程</h2>
      <ul
        id="detail-bar"
        class="nav nav-tabs mb-4 flex list-none flex-col flex-wrap border-b-0 bg-gray-200 pl-0 lg:flex-row"
        role="tablist"
      >
        {% for detail in form.Details %}
        <li class="nav-item" role="presentation">
          <a
            href="#detail-{{ forloop.Counter0 }}"
            {%if forloop.First %}
            class="nav-link active my-2 block w-full border-x-0 border-t-0 border-b-2 border-transparent px-6 py-3 text-xs font-medium leading-tight hover:border-transparent hover:bg-gray-100 focus:border-transparent"
            {%else%}
            class="nav-link my-2 block w-full border-x-0 border-t-0 border-b-2 border-transparent px-6 py-3 text-xs font-medium leading-tight hover:border-transparent hover:bg-gray-100 focus:border-transparent"
            {%endif%}
            id="detail-bar-{{ forloop.Counter0 }}"
            data-bs-toggle="pill"
            data-bs-target="#detail-{{ forloop.Counter0 }}"
            role="tab"
            aria-controls="detail-{{ forloop.Counter0 }}"
            aria-selected="true"
            >{{ forloop.Counter }}</a
          >
        </li>
        {% endfor %}
      </ul>
      <div id="detail-content" class="tab-content">
        {% for detail in form.Details %}
        <div
          {%if forloop.First %}
          class="tab-pane active show fade"
          {%else%}
          class="tab-pane fade"
          {%endif%}
          id="detail-{{ forloop.Counter0 }}"
          role="tabpanel"
          aria-labelledby="detail-{{ forloop.Counter0 }}"
        >
          <div class="grid grid-cols-1 gap-4">
            <div class="flex items-stretch">
              <svg
                aria-hidden="true"
                focusable="false"
                data-prefix="fa-solid"
                data-icon="bullseye"
                class="input-icon mr-2 w-6 self-center"
                role="img"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 512 512"
              >
                <path
                  fill="currentColor"
                  d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192zm64 0c0 141.4-114.6 256-256 256S0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80zm0 64c-79.5 0-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144zm32-144c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"
                ></path>
              </svg>
              <div class="form-floating flex-grow">
                <input
                  type="text"
                  class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
                  id="detailObjectives_{{ forloop.Counter0 }}"
                  name="detail[{{ forloop.Counter0 }}].objectives"
                  value="{{ detail.Objectives }}"
                  placeholder="教學目標"
                />
                <label
                  for="detailObjectives_{{ forloop.Counter0 }}"
                  class="text-gray-700"
                  >教學目標</label
                >
              </div>
            </div>
            <div class="flex items-stretch">
              <svg
                aria-hidden="true"
                focusable="false"
                data-prefix="fa-solid"
                data-icon="teamspeak"
                class="input-icon mr-2 w-6 self-center"
                role="img"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 512 512"
              >
                <path
                  fill="currentColor"
                  d="M244.2 346.79c2.4-12.3-12-30-32.4-48.7-20.9-19.2-48.2-39.1-63.4-46.6-21.7-12-41.7-1.8-46.3 22.7-5 26.2 0 51.4 14.5 73.9 10.2 15.5 25.4 22.7 43.4 24 11.6.6 52.5 2.2 61.7-1 11.9-4.3 20.1-11.8 22.5-24.3zm205 20.8a5.22 5.22 0 0 0-8.3 2.4c-8 25.4-44.7 112.5-172.1 121.5-149.7 10.5 80.3 43.6 145.4-6.4 22.7-17.4 47.6-35 46.6-85.4-.4-10.1-4.9-26.69-11.6-32.1zm62-122.4c-.3-18.9-8.6-33.4-26-42.2-2.9-1.3-5-2.7-5.9-6.4A222.64 222.64 0 0 0 438.9 103c-1.1-1.5-3.5-3.2-2.2-5 8.5-11.5-.3-18-7-24.4Q321.4-31.11 177.4 13.09c-40.1 12.3-73.9 35.6-102 67.4-4 4.3-6.7 9.1-3 14.5 3 4 1.3 6.2-1 9.3C51.6 132 38.2 162.59 32.1 196c-.7 4.3-2.9 6-6.4 7.8-14.2 7-22.5 18.5-24.9 34L0 264.29v20.9c0 30.8 21 50.4 51.8 49 7.7-.3 11.7-4.3 12-11.5 2-77.5-2.4-95.4 3.7-125.8C92.1 72.39 234.3 5 345.3 65.39 411.4 102 445.7 159 447.6 234.79c.8 28.2 0 56.5 0 84.6 0 7 2.2 12.5 9.4 14.2 24.1 5 49.2-12 53.2-36.7 2.9-17.1 1-34.5 1-51.7zm-159.6 131.5c36.5 2.8 59.3-28.5 58.4-60.5-2.1-45.2-66.2-16.5-87.8-8-73.2 28.1-45 54.9-22.2 60.8z"
                ></path>
              </svg>
              <div class="form-floating flex-grow">
                <input
                  type="text"
                  class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
                  id="teacherActivity_{{ forloop.Counter0 }}"
                  name="detail[{{ forloop.Counter0 }}].teacherActivity"
                  value="{{ detail.TeacherActivity }}"
                  placeholder="教師活動"
                />
                <label
                  for="teacherActivity_{{ forloop.Counter0 }}"
                  class="text-gray-700"
                  >教師活動</label
                >
              </div>
            </div>
            <div class="flex items-stretch">
              <svg
                aria-hidden="true"
                focusable="false"
                data-prefix="fa-solid"
                data-icon="child-reaching"
                class="input-icon mr-2 w-6 self-center"
                role="img"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 384 512"
              >
                <path
                  fill="currentColor"
                  d="M256 64c0-35.3-28.7-64-64-64s-64 28.7-64 64s28.7 64 64 64s64-28.7 64-64zM152.9 169.3c-23.7-8.4-44.5-24.3-58.8-45.8L74.6 94.2C64.8 79.5 45 75.6 30.2 85.4s-18.7 29.7-8.9 44.4L40.9 159c18.1 27.1 42.8 48.4 71.1 62.4V480c0 17.7 14.3 32 32 32s32-14.3 32-32V384h32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V221.6c29.1-14.2 54.4-36.2 72.7-64.2l18.2-27.9c9.6-14.8 5.4-34.6-9.4-44.3s-34.6-5.5-44.3 9.4L291 122.4c-21.8 33.4-58.9 53.6-98.8 53.6c-12.6 0-24.9-2-36.6-5.8c-.9-.3-1.8-.7-2.7-.9z"
                ></path>
              </svg>
              <div class="form-floating flex-grow">
                <input
                  type="text"
                  class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
                  id="studentActivity_{{ forloop.Counter0 }}"
                  name="detail[{{ forloop.Counter0 }}].studentActivity"
                  value="{{ detail.StudentActivity }}"
                  placeholder="學生活動"
                />
                <label
                  for="studentActivity_{{ forloop.Counter0 }}"
                  class="text-gray-700"
                  >學生活動</label
                >
              </div>
            </div>
            <div class="flex items-stretch">
              <svg
                aria-hidden="true"
                focusable="false"
                data-prefix="fa-solid"
                data-icon="child-reaching"
                class="input-icon mr-2 w-6 self-center"
                role="img"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 576 512"
              >
                <path
                  fill="currentColor"
                  d="M96 32C60.7 32 32 60.7 32 96V384H96V96l384 0V384h64V96c0-35.3-28.7-64-64-64H96zM224 384v32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H544c17.7 0 32-14.3 32-32s-14.3-32-32-32H416V384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32z"
                ></path>
              </svg>
              <div class="form-floating flex-grow">
                <input
                  type="text"
                  class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
                  id="aid_{{ forloop.Counter0 }}"
                  name="detail[{{ forloop.Counter0 }}].aid"
                  value="{{ detail.Aid }}"
                  placeholder="使用教具"
                />
                <label for="aid_{{ forloop.Counter0 }}" class="text-gray-700"
                  >使用教具</label
                >
              </div>
            </div>
            <div class="flex items-stretch">
              <svg
                aria-hidden="true"
                focusable="false"
                data-prefix="fa-solid"
                data-icon="user-check"
                class="input-icon mr-2 w-6 self-center"
                role="img"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 640 512"
              >
                <path
                  fill="currentColor"
                  d="M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM625 177L497 305c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L591 143c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"
                ></path>
              </svg>
              <div class="form-floating flex-grow">
                <input
                  type="text"
                  class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
                  id="score_{{ forloop.Counter0 }}"
                  name="detail[{{ forloop.Counter0 }}].score"
                  value="{{ detail.Score }}"
                  placeholder="評量方式"
                />
                <label for="score_{{ forloop.Counter0 }}" class="text-gray-700"
                  >評量方式</label
                >
              </div>
            </div>
            <div class="flex items-stretch">
              <svg
                aria-hidden="true"
                focusable="false"
                data-prefix="fa-solid"
                data-icon="user-check"
                class="input-icon mr-2 w-6 self-center"
                role="img"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 640 512"
              >
                <path
                  fill="currentColor"
                  d="M160 64c0-35.3 28.7-64 64-64H576c35.3 0 64 28.7 64 64V352c0 35.3-28.7 64-64 64H336.8c-11.8-25.5-29.9-47.5-52.4-64H384V320c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v32h64V64L224 64v49.1C205.2 102.2 183.3 96 160 96V64zm0 256c-53 0-96-43-96-96s43-96 96-96s96 43 96 96s-43 96-96 96zm-26.7 32h53.3C260.3 352 320 411.7 320 485.3c0 14.7-11.9 26.7-26.7 26.7H26.7C11.9 512 0 500.1 0 485.3C0 411.7 59.7 352 133.3 352z"
                ></path>
              </svg>
              <div class="form-floating flex-grow">
                <input
                  type="text"
                  class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
                  id="method_{{ forloop.Counter0 }}"
                  name="detail[{{ forloop.Counter0 }}].method"
                  value="{{ detail.Method }}"
                  placeholder="教學方法"
                />
                <label for="method_{{ forloop.Counter0 }}" class="text-gray-700"
                  >教學方法</label
                >
              </div>
            </div>
            <div class="flex items-stretch">
              <svg
                aria-hidden="true"
                focusable="false"
                data-prefix="fa-solid"
                data-icon="clock-rotate-left"
                class="input-icon mr-2 w-6 -scale-x-100 self-center"
                role="img"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 512 512"
              >
                <path
                  fill="currentColor"
                  d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"
                ></path>
              </svg>
              <div class="form-floating flex-grow">
                <input
                  type="text"
                  class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
                  id="allocation_{{ forloop.Counter0 }}"
                  name="detail[{{ forloop.Counter0 }}].allocation"
                  value="{{ detail.Allocation }}"
                  placeholder="時間分配"
                />
                <label
                  for="allocation_{{ forloop.Counter0 }}"
                  class="text-gray-700"
                  >時間分配</label
                >
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </section>
    <section class="grid grid-cols-1 gap-4 px-4 pb-4 lg:grid-cols-2">
      <button
        type="button"
        id="add-detail"
        class="ml-auto flex items-stretch rounded bg-green-700 px-6 pt-2.5 pb-2 text-base font-medium leading-normal text-white shadow-md transition duration-150 ease-in-out hover:bg-green-800 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0"
      >
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="plus"
          class="mr-2 w-4 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 448 512"
        >
          <path
            fill="currentColor"
            d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"
          />
        </svg>
        <span>增加</span>
      </button>
      <button
        type="button"
        id="remove-detail"
        class="mr-auto flex items-stretch rounded bg-red-600 px-6 pt-2.5 pb-2 text-sm font-medium leading-normal text-white shadow-md transition duration-150 ease-in-out hover:bg-red-700 hover:shadow-lg focus:bg-red-700 focus:shadow-lg focus:outline-none focus:ring-0"
      >
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fa-solid"
          data-icon="minus"
          class="mr-2 w-3 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 448 512"
        >
          <path
            fill="currentColor"
            d="M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"
          />
        </svg>
        減少
      </button>
    </section>
    <section class="mt-3 flex justify-center">
      <button
        type="submit"
        class="flex items-stretch rounded bg-blue-600 px-6 pt-2.5 pb-2 text-sm font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg"
      >
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="paper-plane"
          class="mr-2 w-3 self-center"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <path
            fill="currentColor"
            d="M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"
          />
        </svg>
        儲存
      </button>
    </section>
  </form>
</div>
{% endblock %} {% block other_js %}
<script>
  let field = document.querySelectorAll("[autoHeight]");
  field.forEach((element) => {
    let base = 2 + element.value.split("\n").length * 1.25;
    element.style.height = "calc(" + base + "rem + 2px)";
    if (element.offsetHeight < element.scrollHeight) {
      element.style.height = element.scrollHeight + 'px';
    }
    element.oninput = () => {
      let base = 2 + element.value.split("\n").length * 1.25;
      element.style.height = "calc(" + base + "rem + 2px)";
      if (element.offsetHeight < element.scrollHeight) {
        element.style.height = element.scrollHeight + 'px';
      }
    };
  });
</script>
<script>
  document.getElementById("add-detail").onclick = function () {
    let target = document.getElementById("detail-bar");
    let len = target.childElementCount;
    let content = `
    <li class="nav-item" role="presentation">
      <a
        href="#detail-${len}"
        class="nav-link my-2 block w-full border-x-0 border-t-0 border-b-2 border-transparent px-6 py-3 text-xs font-medium leading-tight hover:border-transparent hover:bg-gray-100 focus:border-transparent"
        id="detail-bar-${len}"
        data-bs-toggle="pill"
        data-bs-target="#detail-${len}"
        role="tab"
        aria-controls="detail-${len}"
        aria-selected="true"
        >${len + 1}</a
      >
    </li>`;
    target.lastElementChild.insertAdjacentHTML("afterend", content);
    target = document.getElementById("detail-content");
    len = target.childElementCount;
    content = `
    <div
      class="tab-pane fade"
      id="detail-${len}"
      role="tabpanel"
      aria-labelledby="detail-${len}"
    >
      <div class="grid grid-cols-1 gap-4">
        <div class="flex items-stretch">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="bullseye"
            class="input-icon mr-2 w-6 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
          >
            <path
              fill="currentColor"
              d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192zm64 0c0 141.4-114.6 256-256 256S0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80zm0 64c-79.5 0-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144zm32-144c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"
            ></path>
          </svg>
          <div class="form-floating flex-grow">
            <input
              type="text"
              class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
              id="detailObjectives_${len}"
              name="detail[${len}].objectives"
              placeholder="教學目標"
            />
            <label
              for="detailObjectives_${len}"
              class="text-gray-700"
              >教學目標</label
            >
          </div>
        </div>
        <div class="flex items-stretch">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="teamspeak"
            class="input-icon mr-2 w-6 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
          >
            <path
              fill="currentColor"
              d="M244.2 346.79c2.4-12.3-12-30-32.4-48.7-20.9-19.2-48.2-39.1-63.4-46.6-21.7-12-41.7-1.8-46.3 22.7-5 26.2 0 51.4 14.5 73.9 10.2 15.5 25.4 22.7 43.4 24 11.6.6 52.5 2.2 61.7-1 11.9-4.3 20.1-11.8 22.5-24.3zm205 20.8a5.22 5.22 0 0 0-8.3 2.4c-8 25.4-44.7 112.5-172.1 121.5-149.7 10.5 80.3 43.6 145.4-6.4 22.7-17.4 47.6-35 46.6-85.4-.4-10.1-4.9-26.69-11.6-32.1zm62-122.4c-.3-18.9-8.6-33.4-26-42.2-2.9-1.3-5-2.7-5.9-6.4A222.64 222.64 0 0 0 438.9 103c-1.1-1.5-3.5-3.2-2.2-5 8.5-11.5-.3-18-7-24.4Q321.4-31.11 177.4 13.09c-40.1 12.3-73.9 35.6-102 67.4-4 4.3-6.7 9.1-3 14.5 3 4 1.3 6.2-1 9.3C51.6 132 38.2 162.59 32.1 196c-.7 4.3-2.9 6-6.4 7.8-14.2 7-22.5 18.5-24.9 34L0 264.29v20.9c0 30.8 21 50.4 51.8 49 7.7-.3 11.7-4.3 12-11.5 2-77.5-2.4-95.4 3.7-125.8C92.1 72.39 234.3 5 345.3 65.39 411.4 102 445.7 159 447.6 234.79c.8 28.2 0 56.5 0 84.6 0 7 2.2 12.5 9.4 14.2 24.1 5 49.2-12 53.2-36.7 2.9-17.1 1-34.5 1-51.7zm-159.6 131.5c36.5 2.8 59.3-28.5 58.4-60.5-2.1-45.2-66.2-16.5-87.8-8-73.2 28.1-45 54.9-22.2 60.8z"
            ></path>
          </svg>
          <div class="form-floating flex-grow">
            <input
              type="text"
              class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
              id="teacherActivity_${len}"
              name="detail[${len}].teacherActivity"
              placeholder="教師活動"
            />
            <label
              for="teacherActivity_${len}"
              class="text-gray-700"
              >教師活動</label
            >
          </div>
        </div>
        <div class="flex items-stretch">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="child-reaching"
            class="input-icon mr-2 w-6 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 384 512"
          >
            <path
              fill="currentColor"
              d="M256 64c0-35.3-28.7-64-64-64s-64 28.7-64 64s28.7 64 64 64s64-28.7 64-64zM152.9 169.3c-23.7-8.4-44.5-24.3-58.8-45.8L74.6 94.2C64.8 79.5 45 75.6 30.2 85.4s-18.7 29.7-8.9 44.4L40.9 159c18.1 27.1 42.8 48.4 71.1 62.4V480c0 17.7 14.3 32 32 32s32-14.3 32-32V384h32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V221.6c29.1-14.2 54.4-36.2 72.7-64.2l18.2-27.9c9.6-14.8 5.4-34.6-9.4-44.3s-34.6-5.5-44.3 9.4L291 122.4c-21.8 33.4-58.9 53.6-98.8 53.6c-12.6 0-24.9-2-36.6-5.8c-.9-.3-1.8-.7-2.7-.9z"
            ></path>
          </svg>
          <div class="form-floating flex-grow">
            <input
              type="text"
              class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
              id="studentActivity_${len}"
              name="detail[${len}].studentActivity"
              placeholder="學生活動"
            />
            <label
              for="studentActivity_${len}"
              class="text-gray-700"
              >學生活動</label
            >
          </div>
        </div>
        <div class="flex items-stretch">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="child-reaching"
            class="input-icon mr-2 w-6 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 576 512"
          >
            <path
              fill="currentColor"
              d="M96 32C60.7 32 32 60.7 32 96V384H96V96l384 0V384h64V96c0-35.3-28.7-64-64-64H96zM224 384v32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H544c17.7 0 32-14.3 32-32s-14.3-32-32-32H416V384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32z"
            ></path>
          </svg>
          <div class="form-floating flex-grow">
            <input
              type="text"
              class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
              id="aid_${len}"
              name="detail[${len}].aid"
              placeholder="使用教具"
            />
            <label for="aid_${len}" class="text-gray-700"
              >使用教具</label
            >
          </div>
        </div>
        <div class="flex items-stretch">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="user-check"
            class="input-icon mr-2 w-6 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 640 512"
          >
            <path
              fill="currentColor"
              d="M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM625 177L497 305c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L591 143c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"
            ></path>
          </svg>
          <div class="form-floating flex-grow">
            <input
              type="text"
              class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
              id="score_${len}"
              name="detail[${len}].score"
              placeholder="評量方式"
            />
            <label for="score_${len}" class="text-gray-700"
              >評量方式</label
            >
          </div>
        </div>
        <div class="flex items-stretch">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="user-check"
            class="input-icon mr-2 w-6 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 640 512"
          >
            <path
              fill="currentColor"
              d="M160 64c0-35.3 28.7-64 64-64H576c35.3 0 64 28.7 64 64V352c0 35.3-28.7 64-64 64H336.8c-11.8-25.5-29.9-47.5-52.4-64H384V320c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v32h64V64L224 64v49.1C205.2 102.2 183.3 96 160 96V64zm0 256c-53 0-96-43-96-96s43-96 96-96s96 43 96 96s-43 96-96 96zm-26.7 32h53.3C260.3 352 320 411.7 320 485.3c0 14.7-11.9 26.7-26.7 26.7H26.7C11.9 512 0 500.1 0 485.3C0 411.7 59.7 352 133.3 352z"
            ></path>
          </svg>
          <div class="form-floating flex-grow">
            <input
              type="text"
              class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
              id="method_${len}"
              name="detail[${len}].method"
              placeholder="教學方法"
            />
            <label for="method_${len}" class="text-gray-700"
              >教學方法</label
            >
          </div>
        </div>
        <div class="flex items-stretch">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="clock-rotate-left"
            class="input-icon mr-2 w-6 -scale-x-100 self-center"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
          >
            <path
              fill="currentColor"
              d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"
            ></path>
          </svg>
          <div class="form-floating flex-grow">
            <input
              type="text"
              class="form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none"
              id="allocation_${len}"
              name="detail[${len}].allocation"
              placeholder="時間分配"
            />
            <label
              for="allocation_${len}"
              class="text-gray-700"
              >時間分配</label
            >
          </div>
        </div>
      </div>
    </div>`;
    target.lastElementChild.insertAdjacentHTML("afterend", content);
  };
  document.getElementById("remove-detail").onclick = function () {
    let target = document.getElementById("detail-bar");
    let len = target.childElementCount;
    if (len > 1) {
      if (
        target.lastElementChild.lastElementChild.classList.contains("active")
      ) {
        target.children[target.childElementCount - 2].children[0].classList.add(
          "active"
        );
        target = document.getElementById("detail-content");
        target.children[target.childElementCount - 2].classList.add("active");
        target.children[target.childElementCount - 2].classList.add("show");
      }
      target = document.getElementById("detail-bar");
      target.removeChild(target.lastElementChild);
      target = document.getElementById("detail-content");
      target.removeChild(target.lastElementChild);
    } else {
      document.getElementById("toast-base").innerHTML += `
      <div class="toast show bg-blue-600">
        <div class="img flex items-stretch justify-center bg-blue-700">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fa-solid"
            data-icon="circle-info"
            class="input-icon inline-block w-6 align-middle"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
          >
            <path
              fill="currentColor"
              d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"
            />
          </svg>
        </div>
        <div class="desc">課程應該有一個詳細流程吧？</div>
      </div>`;
      cleanUpToasts();
    }
  };
</script>
{% endblock %}
